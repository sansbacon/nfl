'''
nflseasons.py
provides functions for findings dates in NFL seasons
'''

import datetime
import logging

SEASONS = {2000: {1: {'end': datetime.date(2000, 9, 9), 'start': datetime.date(2000, 9, 3)}, 2: {'end': datetime.date(2000, 9, 16), 'start': datetime.date(2000, 9, 10)}, 3: {'end': datetime.date(2000, 9, 23), 'start': datetime.date(2000, 9, 17)}, 4: {'end': datetime.date(2000, 9, 30), 'start': datetime.date(2000, 9, 24)}, 5: {'end': datetime.date(2000, 10, 7), 'start': datetime.date(2000, 10, 1)}, 6: {'end': datetime.date(2000, 10, 14), 'start': datetime.date(2000, 10, 8)}, 7: {'end': datetime.date(2000, 10, 21), 'start': datetime.date(2000, 10, 15)}, 8: {'end': datetime.date(2000, 10, 28), 'start': datetime.date(2000, 10, 22)}, 9: {'end': datetime.date(2000, 11, 4), 'start': datetime.date(2000, 10, 29)}, 10: {'end': datetime.date(2000, 11, 11), 'start': datetime.date(2000, 11, 5)}, 11: {'end': datetime.date(2000, 11, 18), 'start': datetime.date(2000, 11, 12)}, 12: {'end': datetime.date(2000, 11, 25), 'start': datetime.date(2000, 11, 19)}, 13: {'end': datetime.date(2000, 12, 2), 'start': datetime.date(2000, 11, 26)}, 14: {'end': datetime.date(2000, 12, 9), 'start': datetime.date(2000, 12, 3)}, 15: {'end': datetime.date(2000, 12, 16), 'start': datetime.date(2000, 12, 10)}, 16: {'end': datetime.date(2000, 12, 23), 'start': datetime.date(2000, 12, 17)}, 17: {'end': datetime.date(2000, 12, 30), 'start': datetime.date(2000, 12, 24)}}, 2001: {1: {'end': datetime.date(2001, 9, 15), 'start': datetime.date(2001, 9, 9)}, 2: {'end': datetime.date(2001, 9, 22), 'start': datetime.date(2001, 9, 16)}, 3: {'end': datetime.date(2001, 9, 29), 'start': datetime.date(2001, 9, 23)}, 4: {'end': datetime.date(2001, 10, 6), 'start': datetime.date(2001, 9, 30)}, 5: {'end': datetime.date(2001, 10, 13), 'start': datetime.date(2001, 10, 7)}, 6: {'end': datetime.date(2001, 10, 20), 'start': datetime.date(2001, 10, 14)}, 7: {'end': datetime.date(2001, 10, 27), 'start': datetime.date(2001, 10, 21)}, 8: {'end': datetime.date(2001, 11, 3), 'start': datetime.date(2001, 10, 28)}, 9: {'end': datetime.date(2001, 11, 10), 'start': datetime.date(2001, 11, 4)}, 10: {'end': datetime.date(2001, 11, 17), 'start': datetime.date(2001, 11, 11)}, 11: {'end': datetime.date(2001, 11, 24), 'start': datetime.date(2001, 11, 18)}, 12: {'end': datetime.date(2001, 12, 1), 'start': datetime.date(2001, 11, 25)}, 13: {'end': datetime.date(2001, 12, 8), 'start': datetime.date(2001, 12, 2)}, 14: {'end': datetime.date(2001, 12, 15), 'start': datetime.date(2001, 12, 9)}, 15: {'end': datetime.date(2001, 12, 22), 'start': datetime.date(2001, 12, 16)}, 16: {'end': datetime.date(2001, 12, 29), 'start': datetime.date(2001, 12, 23)}, 17: {'end': datetime.date(2002, 1, 5), 'start': datetime.date(2001, 12, 30)}}, 2002: {1: {'end': datetime.date(2002, 9, 11), 'start': datetime.date(2002, 9, 5)}, 2: {'end': datetime.date(2002, 9, 18), 'start': datetime.date(2002, 9, 12)}, 3: {'end': datetime.date(2002, 9, 25), 'start': datetime.date(2002, 9, 19)}, 4: {'end': datetime.date(2002, 10, 2), 'start': datetime.date(2002, 9, 26)}, 5: {'end': datetime.date(2002, 10, 9), 'start': datetime.date(2002, 10, 3)}, 6: {'end': datetime.date(2002, 10, 16), 'start': datetime.date(2002, 10, 10)}, 7: {'end': datetime.date(2002, 10, 23), 'start': datetime.date(2002, 10, 17)}, 8: {'end': datetime.date(2002, 10, 30), 'start': datetime.date(2002, 10, 24)}, 9: {'end': datetime.date(2002, 11, 6), 'start': datetime.date(2002, 10, 31)}, 10: {'end': datetime.date(2002, 11, 13), 'start': datetime.date(2002, 11, 7)}, 11: {'end': datetime.date(2002, 11, 20), 'start': datetime.date(2002, 11, 14)}, 12: {'end': datetime.date(2002, 11, 27), 'start': datetime.date(2002, 11, 21)}, 13: {'end': datetime.date(2002, 12, 4), 'start': datetime.date(2002, 11, 28)}, 14: {'end': datetime.date(2002, 12, 11), 'start': datetime.date(2002, 12, 5)}, 15: {'end': datetime.date(2002, 12, 18), 'start': datetime.date(2002, 12, 12)}, 16: {'end': datetime.date(2002, 12, 25), 'start': datetime.date(2002, 12, 19)}, 17: {'end': datetime.date(2003, 1, 1), 'start': datetime.date(2002, 12, 26)}}, 2003: {1: {'end': datetime.date(2003, 9, 10), 'start': datetime.date(2003, 9, 4)}, 2: {'end': datetime.date(2003, 9, 17), 'start': datetime.date(2003, 9, 11)}, 3: {'end': datetime.date(2003, 9, 24), 'start': datetime.date(2003, 9, 18)}, 4: {'end': datetime.date(2003, 10, 1), 'start': datetime.date(2003, 9, 25)}, 5: {'end': datetime.date(2003, 10, 8), 'start': datetime.date(2003, 10, 2)}, 6: {'end': datetime.date(2003, 10, 15), 'start': datetime.date(2003, 10, 9)}, 7: {'end': datetime.date(2003, 10, 22), 'start': datetime.date(2003, 10, 16)}, 8: {'end': datetime.date(2003, 10, 29), 'start': datetime.date(2003, 10, 23)}, 9: {'end': datetime.date(2003, 11, 5), 'start': datetime.date(2003, 10, 30)}, 10: {'end': datetime.date(2003, 11, 12), 'start': datetime.date(2003, 11, 6)}, 11: {'end': datetime.date(2003, 11, 19), 'start': datetime.date(2003, 11, 13)}, 12: {'end': datetime.date(2003, 11, 26), 'start': datetime.date(2003, 11, 20)}, 13: {'end': datetime.date(2003, 12, 3), 'start': datetime.date(2003, 11, 27)}, 14: {'end': datetime.date(2003, 12, 10), 'start': datetime.date(2003, 12, 4)}, 15: {'end': datetime.date(2003, 12, 17), 'start': datetime.date(2003, 12, 11)}, 16: {'end': datetime.date(2003, 12, 24), 'start': datetime.date(2003, 12, 18)}, 17: {'end': datetime.date(2003, 12, 31), 'start': datetime.date(2003, 12, 25)}}, 2004: {1: {'end': datetime.date(2004, 9, 15), 'start': datetime.date(2004, 9, 9)}, 2: {'end': datetime.date(2004, 9, 22), 'start': datetime.date(2004, 9, 16)}, 3: {'end': datetime.date(2004, 9, 29), 'start': datetime.date(2004, 9, 23)}, 4: {'end': datetime.date(2004, 10, 6), 'start': datetime.date(2004, 9, 30)}, 5: {'end': datetime.date(2004, 10, 13), 'start': datetime.date(2004, 10, 7)}, 6: {'end': datetime.date(2004, 10, 20), 'start': datetime.date(2004, 10, 14)}, 7: {'end': datetime.date(2004, 10, 27), 'start': datetime.date(2004, 10, 21)}, 8: {'end': datetime.date(2004, 11, 3), 'start': datetime.date(2004, 10, 28)}, 9: {'end': datetime.date(2004, 11, 10), 'start': datetime.date(2004, 11, 4)}, 10: {'end': datetime.date(2004, 11, 17), 'start': datetime.date(2004, 11, 11)}, 11: {'end': datetime.date(2004, 11, 24), 'start': datetime.date(2004, 11, 18)}, 12: {'end': datetime.date(2004, 12, 1), 'start': datetime.date(2004, 11, 25)}, 13: {'end': datetime.date(2004, 12, 8), 'start': datetime.date(2004, 12, 2)}, 14: {'end': datetime.date(2004, 12, 15), 'start': datetime.date(2004, 12, 9)}, 15: {'end': datetime.date(2004, 12, 22), 'start': datetime.date(2004, 12, 16)}, 16: {'end': datetime.date(2004, 12, 29), 'start': datetime.date(2004, 12, 23)}, 17: {'end': datetime.date(2005, 1, 5), 'start': datetime.date(2004, 12, 30)}}, 2005: {1: {'end': datetime.date(2005, 9, 14), 'start': datetime.date(2005, 9, 8)}, 2: {'end': datetime.date(2005, 9, 21), 'start': datetime.date(2005, 9, 15)}, 3: {'end': datetime.date(2005, 9, 28), 'start': datetime.date(2005, 9, 22)}, 4: {'end': datetime.date(2005, 10, 5), 'start': datetime.date(2005, 9, 29)}, 5: {'end': datetime.date(2005, 10, 12), 'start': datetime.date(2005, 10, 6)}, 6: {'end': datetime.date(2005, 10, 19), 'start': datetime.date(2005, 10, 13)}, 7: {'end': datetime.date(2005, 10, 26), 'start': datetime.date(2005, 10, 20)}, 8: {'end': datetime.date(2005, 11, 2), 'start': datetime.date(2005, 10, 27)}, 9: {'end': datetime.date(2005, 11, 9), 'start': datetime.date(2005, 11, 3)}, 10: {'end': datetime.date(2005, 11, 16), 'start': datetime.date(2005, 11, 10)}, 11: {'end': datetime.date(2005, 11, 23), 'start': datetime.date(2005, 11, 17)}, 12: {'end': datetime.date(2005, 11, 30), 'start': datetime.date(2005, 11, 24)}, 13: {'end': datetime.date(2005, 12, 7), 'start': datetime.date(2005, 12, 1)}, 14: {'end': datetime.date(2005, 12, 14), 'start': datetime.date(2005, 12, 8)}, 15: {'end': datetime.date(2005, 12, 21), 'start': datetime.date(2005, 12, 15)}, 16: {'end': datetime.date(2005, 12, 28), 'start': datetime.date(2005, 12, 22)}, 17: {'end': datetime.date(2006, 1, 4), 'start': datetime.date(2005, 12, 29)}}, 2006: {1: {'end': datetime.date(2006, 9, 13), 'start': datetime.date(2006, 9, 7)}, 2: {'end': datetime.date(2006, 9, 20), 'start': datetime.date(2006, 9, 14)}, 3: {'end': datetime.date(2006, 9, 27), 'start': datetime.date(2006, 9, 21)}, 4: {'end': datetime.date(2006, 10, 4), 'start': datetime.date(2006, 9, 28)}, 5: {'end': datetime.date(2006, 10, 11), 'start': datetime.date(2006, 10, 5)}, 6: {'end': datetime.date(2006, 10, 18), 'start': datetime.date(2006, 10, 12)}, 7: {'end': datetime.date(2006, 10, 25), 'start': datetime.date(2006, 10, 19)}, 8: {'end': datetime.date(2006, 11, 1), 'start': datetime.date(2006, 10, 26)}, 9: {'end': datetime.date(2006, 11, 8), 'start': datetime.date(2006, 11, 2)}, 10: {'end': datetime.date(2006, 11, 15), 'start': datetime.date(2006, 11, 9)}, 11: {'end': datetime.date(2006, 11, 22), 'start': datetime.date(2006, 11, 16)}, 12: {'end': datetime.date(2006, 11, 29), 'start': datetime.date(2006, 11, 23)}, 13: {'end': datetime.date(2006, 12, 6), 'start': datetime.date(2006, 11, 30)}, 14: {'end': datetime.date(2006, 12, 13), 'start': datetime.date(2006, 12, 7)}, 15: {'end': datetime.date(2006, 12, 20), 'start': datetime.date(2006, 12, 14)}, 16: {'end': datetime.date(2006, 12, 27), 'start': datetime.date(2006, 12, 21)}, 17: {'end': datetime.date(2007, 1, 3), 'start': datetime.date(2006, 12, 28)}}, 2007: {1: {'end': datetime.date(2007, 9, 12), 'start': datetime.date(2007, 9, 6)}, 2: {'end': datetime.date(2007, 9, 19), 'start': datetime.date(2007, 9, 13)}, 3: {'end': datetime.date(2007, 9, 26), 'start': datetime.date(2007, 9, 20)}, 4: {'end': datetime.date(2007, 10, 3), 'start': datetime.date(2007, 9, 27)}, 5: {'end': datetime.date(2007, 10, 10), 'start': datetime.date(2007, 10, 4)}, 6: {'end': datetime.date(2007, 10, 17), 'start': datetime.date(2007, 10, 11)}, 7: {'end': datetime.date(2007, 10, 24), 'start': datetime.date(2007, 10, 18)}, 8: {'end': datetime.date(2007, 10, 31), 'start': datetime.date(2007, 10, 25)}, 9: {'end': datetime.date(2007, 11, 7), 'start': datetime.date(2007, 11, 1)}, 10: {'end': datetime.date(2007, 11, 14), 'start': datetime.date(2007, 11, 8)}, 11: {'end': datetime.date(2007, 11, 21), 'start': datetime.date(2007, 11, 15)}, 12: {'end': datetime.date(2007, 11, 28), 'start': datetime.date(2007, 11, 22)}, 13: {'end': datetime.date(2007, 12, 5), 'start': datetime.date(2007, 11, 29)}, 14: {'end': datetime.date(2007, 12, 12), 'start': datetime.date(2007, 12, 6)}, 15: {'end': datetime.date(2007, 12, 19), 'start': datetime.date(2007, 12, 13)}, 16: {'end': datetime.date(2007, 12, 26), 'start': datetime.date(2007, 12, 20)}, 17: {'end': datetime.date(2008, 1, 2), 'start': datetime.date(2007, 12, 27)}}, 2008: {1: {'end': datetime.date(2008, 9, 10), 'start': datetime.date(2008, 9, 4)}, 2: {'end': datetime.date(2008, 9, 17), 'start': datetime.date(2008, 9, 11)}, 3: {'end': datetime.date(2008, 9, 24), 'start': datetime.date(2008, 9, 18)}, 4: {'end': datetime.date(2008, 10, 1), 'start': datetime.date(2008, 9, 25)}, 5: {'end': datetime.date(2008, 10, 8), 'start': datetime.date(2008, 10, 2)}, 6: {'end': datetime.date(2008, 10, 15), 'start': datetime.date(2008, 10, 9)}, 7: {'end': datetime.date(2008, 10, 22), 'start': datetime.date(2008, 10, 16)}, 8: {'end': datetime.date(2008, 10, 29), 'start': datetime.date(2008, 10, 23)}, 9: {'end': datetime.date(2008, 11, 5), 'start': datetime.date(2008, 10, 30)}, 10: {'end': datetime.date(2008, 11, 12), 'start': datetime.date(2008, 11, 6)}, 11: {'end': datetime.date(2008, 11, 19), 'start': datetime.date(2008, 11, 13)}, 12: {'end': datetime.date(2008, 11, 26), 'start': datetime.date(2008, 11, 20)}, 13: {'end': datetime.date(2008, 12, 3), 'start': datetime.date(2008, 11, 27)}, 14: {'end': datetime.date(2008, 12, 10), 'start': datetime.date(2008, 12, 4)}, 15: {'end': datetime.date(2008, 12, 17), 'start': datetime.date(2008, 12, 11)}, 16: {'end': datetime.date(2008, 12, 24), 'start': datetime.date(2008, 12, 18)}, 17: {'end': datetime.date(2008, 12, 31), 'start': datetime.date(2008, 12, 25)}}, 2009: {1: {'end': datetime.date(2009, 9, 16), 'start': datetime.date(2009, 9, 10)}, 2: {'end': datetime.date(2009, 9, 23), 'start': datetime.date(2009, 9, 17)}, 3: {'end': datetime.date(2009, 9, 30), 'start': datetime.date(2009, 9, 24)}, 4: {'end': datetime.date(2009, 10, 7), 'start': datetime.date(2009, 10, 1)}, 5: {'end': datetime.date(2009, 10, 14), 'start': datetime.date(2009, 10, 8)}, 6: {'end': datetime.date(2009, 10, 21), 'start': datetime.date(2009, 10, 15)}, 7: {'end': datetime.date(2009, 10, 28), 'start': datetime.date(2009, 10, 22)}, 8: {'end': datetime.date(2009, 11, 4), 'start': datetime.date(2009, 10, 29)}, 9: {'end': datetime.date(2009, 11, 11), 'start': datetime.date(2009, 11, 5)}, 10: {'end': datetime.date(2009, 11, 18), 'start': datetime.date(2009, 11, 12)}, 11: {'end': datetime.date(2009, 11, 25), 'start': datetime.date(2009, 11, 19)}, 12: {'end': datetime.date(2009, 12, 2), 'start': datetime.date(2009, 11, 26)}, 13: {'end': datetime.date(2009, 12, 9), 'start': datetime.date(2009, 12, 3)}, 14: {'end': datetime.date(2009, 12, 16), 'start': datetime.date(2009, 12, 10)}, 15: {'end': datetime.date(2009, 12, 23), 'start': datetime.date(2009, 12, 17)}, 16: {'end': datetime.date(2009, 12, 30), 'start': datetime.date(2009, 12, 24)}, 17: {'end': datetime.date(2010, 1, 6), 'start': datetime.date(2009, 12, 31)}}, 2010: {1: {'end': datetime.date(2010, 9, 15), 'start': datetime.date(2010, 9, 9)}, 2: {'end': datetime.date(2010, 9, 22), 'start': datetime.date(2010, 9, 16)}, 3: {'end': datetime.date(2010, 9, 29), 'start': datetime.date(2010, 9, 23)}, 4: {'end': datetime.date(2010, 10, 6), 'start': datetime.date(2010, 9, 30)}, 5: {'end': datetime.date(2010, 10, 13), 'start': datetime.date(2010, 10, 7)}, 6: {'end': datetime.date(2010, 10, 20), 'start': datetime.date(2010, 10, 14)}, 7: {'end': datetime.date(2010, 10, 27), 'start': datetime.date(2010, 10, 21)}, 8: {'end': datetime.date(2010, 11, 3), 'start': datetime.date(2010, 10, 28)}, 9: {'end': datetime.date(2010, 11, 10), 'start': datetime.date(2010, 11, 4)}, 10: {'end': datetime.date(2010, 11, 17), 'start': datetime.date(2010, 11, 11)}, 11: {'end': datetime.date(2010, 11, 24), 'start': datetime.date(2010, 11, 18)}, 12: {'end': datetime.date(2010, 12, 1), 'start': datetime.date(2010, 11, 25)}, 13: {'end': datetime.date(2010, 12, 8), 'start': datetime.date(2010, 12, 2)}, 14: {'end': datetime.date(2010, 12, 15), 'start': datetime.date(2010, 12, 9)}, 15: {'end': datetime.date(2010, 12, 22), 'start': datetime.date(2010, 12, 16)}, 16: {'end': datetime.date(2010, 12, 29), 'start': datetime.date(2010, 12, 23)}, 17: {'end': datetime.date(2011, 1, 5), 'start': datetime.date(2010, 12, 30)}}, 2011: {1: {'end': datetime.date(2011, 9, 14), 'start': datetime.date(2011, 9, 8)}, 2: {'end': datetime.date(2011, 9, 21), 'start': datetime.date(2011, 9, 15)}, 3: {'end': datetime.date(2011, 9, 28), 'start': datetime.date(2011, 9, 22)}, 4: {'end': datetime.date(2011, 10, 5), 'start': datetime.date(2011, 9, 29)}, 5: {'end': datetime.date(2011, 10, 12), 'start': datetime.date(2011, 10, 6)}, 6: {'end': datetime.date(2011, 10, 19), 'start': datetime.date(2011, 10, 13)}, 7: {'end': datetime.date(2011, 10, 26), 'start': datetime.date(2011, 10, 20)}, 8: {'end': datetime.date(2011, 11, 2), 'start': datetime.date(2011, 10, 27)}, 9: {'end': datetime.date(2011, 11, 9), 'start': datetime.date(2011, 11, 3)}, 10: {'end': datetime.date(2011, 11, 16), 'start': datetime.date(2011, 11, 10)}, 11: {'end': datetime.date(2011, 11, 23), 'start': datetime.date(2011, 11, 17)}, 12: {'end': datetime.date(2011, 11, 30), 'start': datetime.date(2011, 11, 24)}, 13: {'end': datetime.date(2011, 12, 7), 'start': datetime.date(2011, 12, 1)}, 14: {'end': datetime.date(2011, 12, 14), 'start': datetime.date(2011, 12, 8)}, 15: {'end': datetime.date(2011, 12, 21), 'start': datetime.date(2011, 12, 15)}, 16: {'end': datetime.date(2011, 12, 28), 'start': datetime.date(2011, 12, 22)}, 17: {'end': datetime.date(2012, 1, 4), 'start': datetime.date(2011, 12, 29)}}, 2012: {1: {'end': datetime.date(2012, 9, 11), 'start': datetime.date(2012, 9, 5)}, 2: {'end': datetime.date(2012, 9, 18), 'start': datetime.date(2012, 9, 12)}, 3: {'end': datetime.date(2012, 9, 25), 'start': datetime.date(2012, 9, 19)}, 4: {'end': datetime.date(2012, 10, 2), 'start': datetime.date(2012, 9, 26)}, 5: {'end': datetime.date(2012, 10, 9), 'start': datetime.date(2012, 10, 3)}, 6: {'end': datetime.date(2012, 10, 16), 'start': datetime.date(2012, 10, 10)}, 7: {'end': datetime.date(2012, 10, 23), 'start': datetime.date(2012, 10, 17)}, 8: {'end': datetime.date(2012, 10, 30), 'start': datetime.date(2012, 10, 24)}, 9: {'end': datetime.date(2012, 11, 6), 'start': datetime.date(2012, 10, 31)}, 10: {'end': datetime.date(2012, 11, 13), 'start': datetime.date(2012, 11, 7)}, 11: {'end': datetime.date(2012, 11, 20), 'start': datetime.date(2012, 11, 14)}, 12: {'end': datetime.date(2012, 11, 27), 'start': datetime.date(2012, 11, 21)}, 13: {'end': datetime.date(2012, 12, 4), 'start': datetime.date(2012, 11, 28)}, 14: {'end': datetime.date(2012, 12, 11), 'start': datetime.date(2012, 12, 5)}, 15: {'end': datetime.date(2012, 12, 18), 'start': datetime.date(2012, 12, 12)}, 16: {'end': datetime.date(2012, 12, 25), 'start': datetime.date(2012, 12, 19)}, 17: {'end': datetime.date(2013, 1, 1), 'start': datetime.date(2012, 12, 26)}}, 2013: {1: {'end': datetime.date(2013, 9, 11), 'start': datetime.date(2013, 9, 5)}, 2: {'end': datetime.date(2013, 9, 18), 'start': datetime.date(2013, 9, 12)}, 3: {'end': datetime.date(2013, 9, 25), 'start': datetime.date(2013, 9, 19)}, 4: {'end': datetime.date(2013, 10, 2), 'start': datetime.date(2013, 9, 26)}, 5: {'end': datetime.date(2013, 10, 9), 'start': datetime.date(2013, 10, 3)}, 6: {'end': datetime.date(2013, 10, 16), 'start': datetime.date(2013, 10, 10)}, 7: {'end': datetime.date(2013, 10, 23), 'start': datetime.date(2013, 10, 17)}, 8: {'end': datetime.date(2013, 10, 30), 'start': datetime.date(2013, 10, 24)}, 9: {'end': datetime.date(2013, 11, 6), 'start': datetime.date(2013, 10, 31)}, 10: {'end': datetime.date(2013, 11, 13), 'start': datetime.date(2013, 11, 7)}, 11: {'end': datetime.date(2013, 11, 20), 'start': datetime.date(2013, 11, 14)}, 12: {'end': datetime.date(2013, 11, 27), 'start': datetime.date(2013, 11, 21)}, 13: {'end': datetime.date(2013, 12, 4), 'start': datetime.date(2013, 11, 28)}, 14: {'end': datetime.date(2013, 12, 11), 'start': datetime.date(2013, 12, 5)}, 15: {'end': datetime.date(2013, 12, 18), 'start': datetime.date(2013, 12, 12)}, 16: {'end': datetime.date(2013, 12, 25), 'start': datetime.date(2013, 12, 19)}, 17: {'end': datetime.date(2014, 1, 1), 'start': datetime.date(2013, 12, 26)}}, 2014: {1: {'end': datetime.date(2014, 9, 10), 'start': datetime.date(2014, 9, 4)}, 2: {'end': datetime.date(2014, 9, 17), 'start': datetime.date(2014, 9, 11)}, 3: {'end': datetime.date(2014, 9, 24), 'start': datetime.date(2014, 9, 18)}, 4: {'end': datetime.date(2014, 10, 1), 'start': datetime.date(2014, 9, 25)}, 5: {'end': datetime.date(2014, 10, 8), 'start': datetime.date(2014, 10, 2)}, 6: {'end': datetime.date(2014, 10, 15), 'start': datetime.date(2014, 10, 9)}, 7: {'end': datetime.date(2014, 10, 22), 'start': datetime.date(2014, 10, 16)}, 8: {'end': datetime.date(2014, 10, 29), 'start': datetime.date(2014, 10, 23)}, 9: {'end': datetime.date(2014, 11, 5), 'start': datetime.date(2014, 10, 30)}, 10: {'end': datetime.date(2014, 11, 12), 'start': datetime.date(2014, 11, 6)}, 11: {'end': datetime.date(2014, 11, 19), 'start': datetime.date(2014, 11, 13)}, 12: {'end': datetime.date(2014, 11, 26), 'start': datetime.date(2014, 11, 20)}, 13: {'end': datetime.date(2014, 12, 3), 'start': datetime.date(2014, 11, 27)}, 14: {'end': datetime.date(2014, 12, 10), 'start': datetime.date(2014, 12, 4)}, 15: {'end': datetime.date(2014, 12, 17), 'start': datetime.date(2014, 12, 11)}, 16: {'end': datetime.date(2014, 12, 24), 'start': datetime.date(2014, 12, 18)}, 17: {'end': datetime.date(2014, 12, 31), 'start': datetime.date(2014, 12, 25)}}, 2015: {1: {'end': datetime.date(2015, 9, 16), 'start': datetime.date(2015, 9, 10)}, 2: {'end': datetime.date(2015, 9, 23), 'start': datetime.date(2015, 9, 17)}, 3: {'end': datetime.date(2015, 9, 30), 'start': datetime.date(2015, 9, 24)}, 4: {'end': datetime.date(2015, 10, 7), 'start': datetime.date(2015, 10, 1)}, 5: {'end': datetime.date(2015, 10, 14), 'start': datetime.date(2015, 10, 8)}, 6: {'end': datetime.date(2015, 10, 21), 'start': datetime.date(2015, 10, 15)}, 7: {'end': datetime.date(2015, 10, 28), 'start': datetime.date(2015, 10, 22)}, 8: {'end': datetime.date(2015, 11, 4), 'start': datetime.date(2015, 10, 29)}, 9: {'end': datetime.date(2015, 11, 11), 'start': datetime.date(2015, 11, 5)}, 10: {'end': datetime.date(2015, 11, 18), 'start': datetime.date(2015, 11, 12)}, 11: {'end': datetime.date(2015, 11, 25), 'start': datetime.date(2015, 11, 19)}, 12: {'end': datetime.date(2015, 12, 2), 'start': datetime.date(2015, 11, 26)}, 13: {'end': datetime.date(2015, 12, 9), 'start': datetime.date(2015, 12, 3)}, 14: {'end': datetime.date(2015, 12, 16), 'start': datetime.date(2015, 12, 10)}, 15: {'end': datetime.date(2015, 12, 23), 'start': datetime.date(2015, 12, 17)}, 16: {'end': datetime.date(2015, 12, 30), 'start': datetime.date(2015, 12, 24)}, 17: {'end': datetime.date(2016, 1, 6), 'start': datetime.date(2015, 12, 31)}}, 2016: {1: {'end': datetime.date(2016, 9, 14), 'start': datetime.date(2016, 9, 8)}, 2: {'end': datetime.date(2016, 9, 21), 'start': datetime.date(2016, 9, 15)}, 3: {'end': datetime.date(2016, 9, 28), 'start': datetime.date(2016, 9, 22)}, 4: {'end': datetime.date(2016, 10, 5), 'start': datetime.date(2016, 9, 29)}, 5: {'end': datetime.date(2016, 10, 12), 'start': datetime.date(2016, 10, 6)}, 6: {'end': datetime.date(2016, 10, 19), 'start': datetime.date(2016, 10, 13)}, 7: {'end': datetime.date(2016, 10, 26), 'start': datetime.date(2016, 10, 20)}, 8: {'end': datetime.date(2016, 11, 2), 'start': datetime.date(2016, 10, 27)}, 9: {'end': datetime.date(2016, 11, 9), 'start': datetime.date(2016, 11, 3)}, 10: {'end': datetime.date(2016, 11, 16), 'start': datetime.date(2016, 11, 10)}, 11: {'end': datetime.date(2016, 11, 23), 'start': datetime.date(2016, 11, 17)}, 12: {'end': datetime.date(2016, 11, 30), 'start': datetime.date(2016, 11, 24)}, 13: {'end': datetime.date(2016, 12, 7), 'start': datetime.date(2016, 12, 1)}, 14: {'end': datetime.date(2016, 12, 14), 'start': datetime.date(2016, 12, 8)}, 15: {'end': datetime.date(2016, 12, 21), 'start': datetime.date(2016, 12, 15)}, 16: {'end': datetime.date(2016, 12, 28), 'start': datetime.date(2016, 12, 22)}, 17: {'end': datetime.date(2017, 1, 4), 'start': datetime.date(2016, 12, 29)}}}

def date_list(d1, d2):
    '''
    Takes two dates or datestrings and returns a list of days

    Usage:
        for d in s._date_list('10_09_2015', '10_04_2015'):
            print datetime.strftime(d, '%m_%d_%Y')
    '''
    if isinstance(d1, basestring):
        try:
            d1 = datetime.strptime(d1, '%m_%d_%Y')

        except:
            logging.error('{0} is not in %m_%d_%Y format'.format(d1))

    if isinstance(d2, basestring):
        try:
            d2 = datetime.strptime(d2, '%m_%d_%Y')

        except:
            logging.error('{0} is not in %m_%d_%Y format'.format(d1))

    season = d1 - d2

    return [d1 - datetime.timedelta(days=x) for x in range(0, season.days + 1)]

def fantasylabs_week(seas, wk):
    s = get_season(seas)
    if s:
        w = s.get(wk)
        if w:
            st = w.get('start')
            if st:
                return datetime.datetime.strftime(st - datetime.timedelta(days=1), '%m_%d_%Y')
    return None

def get_season(y):
    return SEASONS.get(y)

def season_week(d):
    '''
    Takes date and figures out season and week
    
    Arguments:
        d(datetime): the day of the game
    '''

    # get the year and month
    # infer which season based on these
    
    year = d.year
    month = d.month
    
    # year is 1 above season if january/february
    if month < 3:
        season_year = year - 1
    else:
        season_year = year
    logging.debug('season year is {}'.format(season_year))    
    
    # guess the week to start with
    guess_week = 1
    season = get_season(season_year)

    if month < 3:
        guess_week = 15
    elif month == 10:
        guess_week = 3
    elif month == 11:
        guess_week = 7
    elif month == 12:
        guess_week = 15
    logging.debug('guess week is {}'.format(guess_week))    
    
    # loop from guess
    for week in range(guess_week, 18):
        season_week = season.get(week)
        start = season_week.get('start')
        logging.debug('start is {}'.format(start))    
        end = season_week.get('end') 
        logging.debug('end is {}'.format(end))
        if start <= d <= end:
            logging.info('{0} is between {1} and {2}'.format(d, start, end))
            return {'season': season_year, 'week': week}
    
    # return None on fail
    return None
    
if __name__ == '__main__':
    pass
